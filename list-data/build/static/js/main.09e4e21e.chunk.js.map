{"version":3,"sources":["TableData.js","UsersData.js","App.js","index.js"],"names":["TableData","props","usersDetails","itemLists","itemsList","useState","selectOption","setSelectOption","tableData","setTableContent","className","placeholder","value","onChange","e","data","Object","values","filter","val","keys","includes","target","username","reduce","acc","current","ageDetails","age","count","map","item","index","UsersData","setLists","setusersDetails","React","useEffect","fetch","method","then","res","json","length","App","ReactDOM","render","document","getElementById"],"mappings":"2PAqDeA,EAnDG,SAACC,GACf,IAAOC,EAAoCD,EAApCC,aAAcC,EAAsBF,EAAtBE,UAAUC,EAAYH,EAAZG,UAEhC,EAAwCC,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAAoCF,mBAAS,IAA7C,mBAAOG,EAAP,KAAiBC,EAAjB,KAaC,OACI,sBAAKC,UAAU,kBAAf,UACI,kEACA,wBACAC,YAAY,QACZC,MAAON,EACPO,SAlBS,SAACC,GAEf,IAAMC,EAAOC,OAAOC,OAAOd,EAAUe,QAAO,SAACC,GAAD,OAAOH,OAAOI,KAAKlB,GAAcgB,QAAO,SAACC,GAAD,OAAOjB,EAAaiB,GAAKE,SAASP,EAAEQ,OAAOV,UAAQS,SAASF,EAAII,aAAWC,QAAQ,SAACC,EAAKC,GAC5K,IAAMC,EAAU,UAAMD,EAAQE,KAE9B,OADCH,EAAIE,GAAwDF,EAAIE,GAAYE,OAAS,EAAnEJ,EAAIE,GAAJ,2BAAsBD,GAAtB,IAA+BG,MAAO,IAClDJ,IACN,KACHhB,EAAgBM,GAChBR,EAAgBO,EAAEQ,OAAOV,QAOnB,SAIKR,GAAaA,EAAU0B,KAAI,SAACC,EAAKC,GAAN,OAE5B,wBAAQpB,MAAOmB,EAAKnB,MAApB,SAAwCmB,EAAKnB,OAAboB,QAGpC,8BAEI,kCACA,gCACI,+BACI,qCACA,4CAGJ,gCACKxB,GAAaA,EAAUsB,KAAI,SAACX,EAAIa,GACjC,OAAO,+BACC,6BAAKb,EAAIS,MACT,6BAAKT,EAAIU,UAFDG,iB,MCqBzBC,MA3Df,WACE,IAYA,EAA8B5B,mBAAS,MAAvC,mBAAOF,EAAP,KAAkB+B,EAAlB,KACA,EAAwC7B,mBAAS,MAAjD,mBAAOH,EAAP,KAAqBiC,EAArB,KAaA,OADAC,IAAMC,WAAU,kBATdC,MAAM,aAAc,CAClBC,OAAQ,QACPC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GAAG,OAAIN,EAAgBM,WAC/BH,MAAM,SAAU,CACdC,OAAQ,QACPC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GAAG,OAAIP,EAASO,QAEc,IAGtC,sBAAK/B,UAAU,gBAAf,UAEGP,GAAaA,EAAUwC,QACtB,sBAAKjC,UAAU,YAAf,UACE,2CACA,qDACA,kCACE,gCACE,+BACE,sCACA,0CAGJ,gCACGP,EAAU2B,KAAI,SAACX,EAAKa,GACnB,OACE,+BACE,6BAAKb,EAAII,WACT,6BAAKJ,EAAIS,QAFFI,cAUrB,cAAC,EAAD,CAAW7B,UAAWA,EAAWD,aAAcA,EAAcE,UAtD/C,CAChB,CAAEQ,MAAO,MACT,CAAEA,MAAO,YACT,CAAEA,MAAO,SACT,CAAEA,MAAO,SACT,CAAEA,MAAO,UACT,CAAEA,MAAO,SACT,CAAEA,MAAO,UACT,CAAEA,MAAO,QAET,CAAEA,MAAO,cCFEgC,MATf,WAEG,OACC,qBAAKlC,UAAU,OAAf,SACE,cAAC,EAAD,OCFNmC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.09e4e21e.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport './TableData.css'\r\nconst TableData = (props) =>{\r\n    const {usersDetails ,itemLists,itemsList} =props;\r\n \r\n   const [selectOption, setSelectOption] = useState(\"\");\r\n   const [tableData,setTableContent] = useState([]);\r\n    const onChange = (e) =>{\r\n      \r\n       const data = Object.values(itemLists.filter((val)=>Object.keys(usersDetails).filter((val)=>usersDetails[val].includes(e.target.value)).includes(val.username)).reduce( (acc, current) => {\r\n        const ageDetails = `${current.age}`;\r\n        !acc[ageDetails] ? acc[ageDetails] = {...current, count: 1} :acc[ageDetails].count += 1;\r\n        return acc;\r\n      }, {}))\r\n      setTableContent(data);\r\n      setSelectOption(e.target.value);\r\n    }\r\n\r\n\r\n    return(\r\n        <div className=\"users-age-count\">\r\n            <h3>Age Demographic of Users with __</h3>\r\n            <select\r\n            placeholder=\"users\"\r\n            value={selectOption}\r\n            onChange={onChange}>\r\n                {itemsList && itemsList.map((item,index) =>\r\n                \r\n                <option value={item.value} key={index}>{item.value}</option>\r\n                )}\r\n            </select>\r\n            <div>\r\n            \r\n                <table>  \r\n                <thead>\r\n                    <tr>\r\n                        <th>AGE</th>\r\n                        <th>COUNT</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {tableData && tableData.map((val,index) =>{\r\n                        return(<tr key={index}>\r\n                                <td>{val.age}</td>\r\n                                <td>{val.count}</td>\r\n                                </tr>\r\n                )})}\r\n                 </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default TableData;","import React, { useState } from 'react';\r\nimport TableData from \"./TableData\";\r\nimport './UserData.css'\r\n\r\nfunction UsersData() {\r\n  const itemsList = [\r\n    { value: \"tv\" },\r\n    { value: \"crackers\" },\r\n    { value: \"chips\" },\r\n    { value: \"item \" },\r\n    { value: \"carrot\" },\r\n    { value: \"apple\" },\r\n    { value: \"grapes\" },\r\n    { value: \"cake\" },\r\n\r\n    { value: \"ham\" }\r\n  ];\r\n  const [itemLists, setLists] = useState(null);\r\n  const [usersDetails, setusersDetails] = useState(null);\r\n\r\n  const fetchUsersList = () => {\r\n    fetch('/users/age', {\r\n      method: \"GET\"\r\n    }).then(res => res.json())\r\n      .then(res => setusersDetails(res));\r\n    fetch('/users', {\r\n      method: \"GET\"\r\n    }).then(res => res.json())\r\n      .then(res => setLists(res))\r\n  }\r\n  React.useEffect(() => fetchUsersList(), [])\r\n  return (\r\n\r\n    <div className=\"users-section\">\r\n\r\n      {itemLists && itemLists.length &&\r\n        <div className='users-age'>\r\n          <h3>ALL USERS</h3>\r\n          <h5>Users and their age</h5>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>User</th>\r\n                <th>Age</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {itemLists.map((val, index) => {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{val.username}</td>\r\n                    <td>{val.age}</td>\r\n                  </tr>\r\n                )\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      }\r\n      <TableData itemLists={itemLists} usersDetails={usersDetails} itemsList={itemsList} />\r\n    </div>\r\n  );}\r\n\r\nexport default UsersData;\r\n\r\n","\nimport './App.css';\nimport UsersData from './UsersData';\n\nfunction App() {\n\n   return(\n    <div className=\"main\">\n      <UsersData />\n    </div>\n  );\n}\n\nexport default App;\n\n","\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}